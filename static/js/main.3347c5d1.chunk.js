(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,n){e.exports=n(378)},158:function(e,t,n){},160:function(e,t,n){},378:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(62),i=n.n(c),r=(n(158),n(15)),l=n(16),s=n(19),u=n(17),d=n(18),h=(n(160),n(63)),p=n(20),f=n.n(p),m=n(36),v=Object(h.compose)(m.withScriptjs,m.withGoogleMap)(function(e){return o.a.createElement(m.GoogleMap,{defaultZoom:10,defaultCenter:{lat:41.8506,lng:-87.7937}},e.places.map(function(e){var t={lat:e.venue.location.lat,lng:e.venue.location.lng},n=window.isSelected(e),a=n?window.google.maps.Animation.BOUNCE:null;return o.a.createElement(m.Marker,{key:e.id,position:t,title:e.venue.name,animation:a,onClick:function(){f.a.dispatch("PLACE_SELECTED",e)}},n&&o.a.createElement(m.InfoWindow,{onCloseClick:function(){f.a.dispatch("PLACE_SELECTED",null)}},o.a.createElement("div",{"aria-label":"Description of "+e.venue.name},o.a.createElement("h3",null,e.venue.name),o.a.createElement("address",null,e.venue.location.formattedAddress[0],e.venue.location.formattedAddress[1],e.venue.location.formattedAddress[2]),e.photo&&o.a.createElement("img",{src:e.photo.prefix+"200x200"+e.photo.suffix,alt:e.venue.name,title:e.venue.name}))))}))}),w=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="https://maps.googleapis.com/maps/api/js?v=3.exp&key=".concat("AIzaSyAtcWBXNw50hUEw4K6wD5ZuV9JTUGduDoI");return o.a.createElement(v,{googleMapURL:e,loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"100%",width:"70%"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}}),places:this.props.places})}}]),t}(a.Component),E=n(41),g=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isSelected:window.isSelected(e.place)},n.onPlaceSelected=n.onPlaceSelected.bind(Object(E.a)(Object(E.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onPlaceSelected",value:function(){f.a.dispatch("PLACE_SELECTED",this.props.place)}},{key:"render",value:function(){var e=this.props.place.venue.name;return o.a.createElement("div",{className:this.state.isSelected?"place selected":"place",onClick:this.onPlaceSelected,"aria-label":"Learn more about "+e},e)}}]),t}(a.Component),b=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("ul",{className:"places"},this.props.places.map(function(t){return o.a.createElement("li",{className:"placeitem",key:t.id},o.a.createElement(g,{place:t,onClickHandler:e.props.onClickHandler}))}))}}]),t}(a.Component),y=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).updateQuery=function(e){var t=e.target.value;f.a.dispatch("QUERY_CHANGED",t)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"sidebar"},o.a.createElement("h3",null,"Search Foursquare"),o.a.createElement("input",{type:"text",id:"searchbox",placeholder:"Type Here",autoFocus:!0,value:window.query||"",onChange:this.updateQuery,"aria-label":"Search Box"}),o.a.createElement(b,{places:this.props.places}))}}]),t}(a.Component),j=n(152),O=n.n(j),C=function(e){return O.a.get("https://api.foursquare.com/v2/search/recommendations?"+new URLSearchParams({client_id:"1PDW4N4XLZ2QQTATI55V00VDZRQNTHE40XZHI0BMJOXJOJW5",client_secret:"5BHER5Y5T4FBN25S0SPJIABVKZLINOYEPLVVD0QSEXEL0DWG",categoryId:"52f2ae52bcbc57f1066b8b81",near:"Berwyn",radius:"100000",v:"20182212"})).then(function(t){var n=t.data.response.group.results;if(e){var a=new RegExp(e,"i");n=n.filter(function(e){return e.venue.name.match(a)?e:null})}return n}).catch(function(e){console.log(e)})};window.selectedPlace=null,window.isSelected=function(e){return window.selectedPlace&&e&&window.selectedPlace.id===e.id},window.query=null;var S=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={places:[],selectedPlace:null,query:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;C().then(function(t){e.setState({places:t})}),this.onPlaceSelected=this.onPlaceSelected.bind(this),f.a.addEventListener("PLACE_SELECTED",this.onPlaceSelected),this.onQueryChange=this.onQueryChange.bind(this),f.a.addEventListener("QUERY_CHANGED",this.onQueryChange)}},{key:"onPlaceSelected",value:function(e){var t=e.target;window.selectedPlace=t,this.setState({selectedPlace:t})}},{key:"onQueryChange",value:function(e){var t=this,n=e.target;window.query=n,C(n).then(function(e){t.setState({query:n,places:e})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(y,{places:this.state.places}),o.a.createElement(w,{places:this.state.places}))}}]),t}(a.Component),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(S,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Udacity-Projects/my-neighborhood/index.html",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Udacity-Projects/my-neighborhood/index.html","/service-worker.js");k?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):P(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode."),alert("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):P(t,e)})}}()}},[[153,2,1]]]);
//# sourceMappingURL=main.3347c5d1.chunk.js.map